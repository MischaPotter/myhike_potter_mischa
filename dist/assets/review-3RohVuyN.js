import{d as u,e as d,i as m,m as h,f as g,c as k,h as v,M as f}from"./app-DNUhC0eQ.js";var l=localStorage.getItem("hikeDocID");y(l);async function y(e){try{const t=u(d,"hikes",e),o=await m(t);if(o.exists()){const n=o.data().name;document.getElementById("hikeName").textContent=n}else console.log("No such hike found!")}catch(t){console.error("Error getting hike document:",t)}}document.addEventListener("DOMContentLoaded",()=>{w(),document.getElementById("submitBtn").addEventListener("click",I)});let c=0;function w(){const e=document.querySelectorAll(".star");e.forEach((t,o)=>{t.addEventListener("click",()=>{e.forEach((n,s)=>{n.textContent=s<=o?"star":"star_outline"}),c=o+1,console.log("Current rating:",c)})})}async function I(){console.log("Inside write review");const e=document.getElementById("title").value,t=document.getElementById("level").value,o=document.getElementById("season").value,n=document.getElementById("description").value,s=document.querySelector('input[name="flooded"]:checked')?.value,a=document.querySelector('input[name="scrambled"]:checked')?.value;if(console.log("inside write review, rating =",c),console.log("hikeDocID =",l),console.log("Collected review data:"),console.log(e,t,o,n,s,a),!e||!n){alert("Please complete all required fields.");return}const r=h.currentUser;if(r)try{const i=r.uid;await g(k(d,"reviews"),{hikeDocID:l,userID:i,title:e,level:t,season:o,description:n,flooded:s,scrambled:a,rating:c,timestamp:v()}),console.log("Review successfully written!"),new f(document.getElementById("thankYouModal")).show()}catch(i){console.error("Error adding review:",i)}else console.log("No user is signed in")}
