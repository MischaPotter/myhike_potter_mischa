import{o as b,d as k,b as q,c as y,g as h,e as i,f as m,h as u,i as p,u as g,j as S,k as B}from"./app-DNUhC0eQ.js";function w(t){const e=k(i,"quotes",t);q(e,o=>{o.exists()?document.getElementById("quote-goes-here").innerHTML=o.data().quote:console.log("No such document!")},o=>{console.error("Error listening to document: ",o)})}function x(){const t=y(i,"hikes");console.log("Adding sample hike data..."),m(t,{code:"BBY01",name:"Burnaby Lake Park Trail",city:"Burnaby",level:"easy",details:"A lovely place for a lunch walk.",length:10,hike_time:60,lat:49.2467097082573,lng:-122.9187029619698,last_updated:u()}),m(t,{code:"AM01",name:"Buntzen Lake Trail",city:"Anmore",level:"moderate",details:"Close to town, and relaxing.",length:10.5,hike_time:80,lat:49.3399431028579,lng:-122.85908496766939,last_updated:u()}),m(t,{code:"NV01",name:"Mount Seymour Trail",city:"North Vancouver",level:"hard",details:"Amazing ski slope views.",length:8.2,hike_time:120,lat:49.38847101455571,lng:-122.94092543551031,last_updated:u()})}async function v(){const t=y(i,"hikes");(await h(t)).empty?(console.log("Hikes collection is empty. Seeding data..."),x()):console.log("Hikes collection already contains data. Skipping seed.")}async function E(t,e){let o=document.getElementById("hikeCardTemplate");const l=y(i,"hikes");try{(await h(l)).forEach(r=>{let a=o.content.cloneNode(!0);const n=r.data();a.querySelector(".card-title").textContent=n.name,a.querySelector(".card-text").textContent=n.details||`Located in ${n.city}.`,a.querySelector(".card-length").textContent=n.length,a.querySelector(".card-image").src=`./images/${n.code}.jpg`;const c=r.id;a.querySelector(".read-more").href=`eachHike.html?docID=${c}`;const d=a.querySelector("i.material-icons");d.id="save-"+c;const f=e.includes(c);d.innerText=f?"bookmark":"bookmark_border",d.onclick=()=>C(t,c),document.getElementById("hikes-go-here").appendChild(a)})}catch(s){console.error("Error getting documents: ",s)}}function T(){const t=document.getElementById("name-goes-here");b(async e=>{if(!e)return;const o=k(i,"users",e.uid),l=await p(o),s=l.exists()?l.data():{},r=s.name||e.displayName||e.email;t&&(t.textContent=`${r}!`);const a=s.bookmarks||[];await E(e.uid,a)})}async function C(t,e){const o=k(i,"users",t),r=((await p(o)).data()||{}).bookmarks||[],a="save-"+e,n=document.getElementById(a),c=r.includes(e);try{c?(await g(o,{bookmarks:S(e)}),n.innerText="bookmark_border"):(await g(o,{bookmarks:B(e)}),n.innerText="bookmark")}catch(d){console.error("Error toggling bookmark:",d)}}T();w("tuesday");v();
